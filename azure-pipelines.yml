trigger:
  - "*"

pool:
  vmImage: "ubuntu-20.04"

steps:
  # âœ… dotnet ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
  - task: DotNetCoreCLI@2
    displayName: "Run dotnet version"
    inputs:
      command: "custom"
      custom: "--version"

  # ğŸ“¦ ä¾å­˜é–¢ä¿‚ã®å¾©å…ƒ
  - task: DotNetCoreCLI@2
    displayName: "Restore project dependencies"
    inputs:
      command: "restore"
      projects: "**/*.csproj"

  # ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰
  - task: DotNetCoreCLI@2
    displayName: "Build the project"
    inputs:
      command: "build"
      arguments: "--no-restore --configuration Release"
      projects: "**/*.csproj"

  # ğŸ§ª ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã¨çµæœã®å…¬é–‹
  - task: DotNetCoreCLI@2
    displayName: "Run unit tests"
    inputs:
      command: "test"
      arguments: "--no-build --configuration Release"
      publishTestResults: true
      projects: "**/*.Tests.csproj"
